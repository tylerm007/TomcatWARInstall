[
  {
    "ts": "2016-01-18T21:44:46.536459Z",
    "name": "RESTAuthSecurityProviderCreateJS",
    "group_name": "newlib",
    "lib_name": "restjs",
    "version": "1.0",
    "description": "Sample JS Auth provider using REST to local server",
    "doc_url": "",
    "ref_url": "",
    "code": {
      "type": "base64",
      "length": 5195,
      "value": "Ly9VcGxvYWQgdGhpcyBKYXZhU2NyaXB0IHRvIExpdmUgQVBJIENyZWF0b3IgTGlicmFyaWVzIGFuZCB0aGVuIGNyZWF0ZSBhIG5ldyBBdXRoUHJvdmlkZXIgd2l0aCBuYW1lIGJlbG93LgpvdXQgPSBqYXZhLmxhbmcuU3lzdGVtLm91dDsKZnVuY3Rpb24gUkVTVEF1dGhTZWN1cml0eVByb3ZpZGVyQ3JlYXRlKCkgewoKCXZhciByZXN1bHQgPSB7fTsKCXZhciBjb25maWdTZXR1cCA9IHsKCQlsb2dvbkFwaUtleSA6ICcnLAoJCWxvZ2luQmFzZVVSTCA6ICcnLAoJCWxvZ2luR3JvdXBVUkwgOiAnJywKCQlrZXlMaWZldGltZU1pbnV0ZXMgOiA2MAoJfTsKCgkvLyBGVU5DVElPTiB0aGlzIGNhbGwgbXVzdCBiZSBtYWRlIGZpcnN0IHRvIHBhc3MgaW4gdGhlIHJlcXVpcmVkIFNRTAoJLy8gY29uZmlndXJhdGlvbiB2YWx1ZXMKCXJlc3VsdC5jb25maWd1cmUgPSBmdW5jdGlvbiBjb25maWd1cmUobXlDb25maWcpIHsKCQljb25maWdTZXR1cC5sb2dvbkFwaUtleSA9IG15Q29uZmlnLmxvZ29uQXBpS2V5IHx8ICdkZW1vX2Z1bGwnOwoJCWNvbmZpZ1NldHVwLmxvZ2luQmFzZVVSTCA9IG15Q29uZmlnLmxvZ2luQmFzZVVSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3Jlc3QvZGVmYXVsdC92MS8uLi4nOwoJCWNvbmZpZ1NldHVwLmxvZ2luR3JvdXBVUkwgPSBteUNvbmZpZy5sb2dpbkdyb3VwVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwODAvcmVzdC9kZWZhdWx0L3YxLy4uLic7CgkJY29uZmlnU2V0dXAua2V5TGlmZXRpbWVNaW51dGVzID0gbXlDb25maWcua2V5TGlmZXRpbWVNaW51dGVzIHx8IDYwOwoJfTsKCgkvLyBOT1RFOiB0aGUgZnVuY3Rpb24gY29uZmlndXJlIG11c3QgYmUgY2FsbGVkIGZpcnN0IC0gdGhpcyB3aWxsIHZhbGlkYXRlIHRoZSB1c2VyL3B3CgkvLyBGVU5DVElPTiBBVVRIRU5USUNBVEUgUkVRVUlSRVMgUEFZTE9BRCB7dXNlcm5hbWUgOiAnJywgcGFzc3dvcmQgOiAnJ30KCXJlc3VsdC5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbiBhdXRoZW50aWNhdGUocGF5bG9hZCkgewoKCW91dC5wcmludGxuKCJBdXRoZW50aWNhdGlvbiBjYWxsZWQiKTsKCQl2YXIgcm9sZXMgPSBbXTsKCQl2YXIgZXJyb3JNc2cgPSBudWxsOwoJCXZhciByZXNldFBhc3N3b3JkVVJMID0gbnVsbDsKCQl2YXIgZm9yZ290UGFzc3dvcmRVUkwgPSBudWxsOwoJCXZhciBjdXN0b21EYXRhSFJFRiA9IFtdOwoJCXZhciBwYXJhbXMgPSBudWxsOwoJCXZhciBzZXR0aW5ncyA9IHsKCQkJaGVhZGVycyA6IHsKCQkJCSdBdXRob3JpemF0aW9uJyA6ICdDQUxpdmVBUElDcmVhdG9yICcgKyBjb25maWdTZXR1cC5sb2dvbkFwaUtleSArICc6MScKCQkJfQoJCX07CgoJCXRyeSB7CgkJCS8vIEdFVCB0aGlzIEpTT04gcmVxdWVzdCB0byBkZXRlcm1pbmUgaWYgdXNlcm5hbWUgYW5kIHBhc3N3b3JkCgkJCS8vIGFjY291bnQgaXMgdmFsaWQgaW4gdGhlIFJFU1QgY2FsbAoJCQkvLyB0aGUgdmlldyBzaG91bGQgcmV0dXJuIGFuIGFycmF5IG9mIHJvbGUgbmFtZXMKCQkJdmFyIGxvZ2luQXR0ZW1wdFVSTCA9IGNvbmZpZ1NldHVwLmxvZ2luQmFzZVVSTCAKCQkJKyAiP3N5c2ZpbHRlcj1lcXVhbChGaXJzdE5hbWU6JyIrIHBheWxvYWQudXNlcm5hbWUgCgkJCSsgIicpJnN5c2ZpbHRlcj1lcXVhbChMYXN0TmFtZTonIiArIHBheWxvYWQucGFzc3dvcmQgCgkJCSsgIicpIjsKCQkJCgkJCXZhciBsb2dpbkF0dGVtcHQgPSBTeXNVdGlsaXR5LnJlc3RHZXQobG9naW5BdHRlbXB0VVJMLCBwYXJhbXMsc2V0dGluZ3MpOwoJCQl2YXIgZ3JvdXBzID0gSlNPTi5wYXJzZShsb2dpbkF0dGVtcHQpOwoJCQkvLyBqYXZhLmxhbmcuU3lzdGVtLm91dC5wcmludGxuKEpTT04uc3RyaW5naWZ5KGdyb3VwcywgbnVsbCwgMikpOwoKCQkJaWYgKGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eSgnZXJyb3JNZXNzYWdlJykpIHsKCQkJCWVycm9yTXNnID0gZ3JvdXBzLmVycm9yTWVzc2FnZTsKCQkJfSBlbHNlIHsKCQkJCQoJCQkJLy8gY2hhbmdlIHRoZSBmaWVsZCBuYW1lIGJlbG93IC5uYW1lIHRvIHRoZSBuYW1lIG9mIHlvdXIKCQkJCS8vIHJvbGVOYW1lIGNvbHVtbgoJCQkJZXJyb3JNc2cgPSAnVXNlcm5hbWUgJyArIHBheWxvYWQudXNlcm5hbWUgKyAnIG5vdCBmb3VuZCB3aXRoIGxhc3QgbmFtZSBhcyBwYXNzd29yZCc7CgkJCQlmb3IgKCB2YXIgcm93IGluIGdyb3VwcykgewoJCQkJCXJvbGVzID0gWydGdWxsIGFjY2VzcyddOyAvL3x8IEhBUkQgQ09ERUQgRk9SIERFTU8KCQkJCQkvL3JvbGVzLnB1c2goZ3JvdXBzW3Jvd10uUmVnaW9uKTsKCQkJCQkvL2N1c3RvbURhdGFIUkVGLnB1c2goZ3JvdXBzW3Jvd10uUmVnaW9uKQoJCQkJCWVycm9yTXNnID0gbnVsbDsgLy9pZiBvbmUgcm9sZSBpcyBmb3VuZCB0aGVuIHdlIGFyZSBnb29kIHRvIHJldHVybgoJCQkJfQoJCQl9CgkJfSBjYXRjaCAoZSkgewoJCQllcnJvck1zZyA9IGUubWVzc2FnZTsKCQl9CgoJCXZhciBhdXRSZXNwb25zZSA9IHsKCQkJZXJyb3JNZXNzYWdlIDogZXJyb3JNc2csCgkJCXJvbGVOYW1lcyA6IHJvbGVzLAoJCQl1c2VySWRlbnRpZmllciA6IHBheWxvYWQudXNlcm5hbWUsCgkJCWtleUV4cGlyYXRpb24gOiBuZXcgRGF0ZSgrbmV3IERhdGUoKQoJCQkJCSsgKCtjb25maWdTZXR1cC5rZXlMaWZldGltZU1pbnV0ZXMpICogNjAgKiAxMDAwKSwKCQkJdXNlckRhdGEgOiBjdXN0b21EYXRhSFJFRiwKCQkJbGFzdExvZ2luIDogewoJCQkJZGF0ZXRpbWUgOiBudWxsLAoJCQkJaXBBZGRyZXNzIDogbnVsbAoJCQl9CgkJfTsKCQlyZXR1cm4gYXV0UmVzcG9uc2U7Cgl9OwoKCS8vIEZVTkNUSU9OIGdldEFsbEdyb3VwcyBpcyB1c2VkIHRvIG1hcCBhbGwgYXZhaWxhYmxlIGdyb3VwcyBmb3IgZXhpc3RpbmcgYXBwbGljYXRpb24gLQoJcmVzdWx0LmdldEFsbEdyb3VwcyA9IGZ1bmN0aW9uIGdldEFsbEdyb3VwcygpIHsKCQl2YXIgcm9sZXMgPSBbXTsKCQl2YXIgZXJyb3JNc2cgPSBudWxsOwoJCXZhciBwYXJhbXMgPSBudWxsOwoJCXZhciBzZXR0aW5ncyA9IHsKCQkJaGVhZGVycyA6IHsKCQkJCSdBdXRob3JpemF0aW9uJyA6ICdDQUxpdmVBUElDcmVhdG9yICcgKyBjb25maWdTZXR1cC5sb2dvbkFwaUtleSArICc6MScKCQkJfQoJCX07CgkJdHJ5IHsKCQkJdmFyIGxvZ2luQXR0ZW1wdFVSTCA9IGNvbmZpZ1NldHVwLmxvZ2luR3JvdXBVUkw7IC8vIG5vIGZpbHRlciBuZWVkZWQtIGdldCBhbGwgcm9sZXM/CgkJCXZhciBncm91cHNSZXNwb25zZSA9IFN5c1V0aWxpdHkucmVzdEdldChsb2dpbkF0dGVtcHRVUkwsIHBhcmFtcywKCQkJCQlzZXR0aW5ncyk7CgkJCXZhciBncm91cHMgPSBKU09OLnBhcnNlKGdyb3Vwc1Jlc3BvbnNlKTsKCQkJaWYgKGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eSgnZXJyb3JNZXNzYWdlJykpIHsKCQkJCWVycm9yTXNnID0gZ3JvdXBzLmVycm9yTWVzc2FnZTsKCQkJfSBlbHNlIHsKCQkJCS8vIGNoYW5nZSB0aGUgLm5hbWUgdG8gcmVmcmVsZWN0IHRoZSBuYW1lIG9mIHlvdXIgcm9sZXMgcmV0dXJuZWQKCQkJCS8vIGluIHRoZSBKU09OIG9iamVjdAoJCQkJZm9yICggdmFyIHJvdyBpbiBncm91cHMpIHsKCQkJCQlyb2xlcy5wdXNoKGdyb3Vwc1tyb3ddLm5hbWUpOwoJCQkJfQoJCQl9CgkJfSBjYXRjaCAoZSkgewoJCQllcnJvck1zZyA9IGUubWVzc2FnZTsKCQl9CgoJCXZhciBhdXRSZXNwb25zZSA9IHsKCQkJZXJyb3JNZXNzYWdlIDogZXJyb3JNc2csCgkJCXJvbGVOYW1lcyA6IHJvbGVzCgkJfTsKCgkJcmV0dXJuIGF1dFJlc3BvbnNlOwoJfTsKCS8vIEZVTkNUSU9OIGdldExvZ2luSW5mbyBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgbG9nb24gZGlhbG9nIC0gRE8gTk9UIENIQU5HRQoJcmVzdWx0LmdldExvZ2luSW5mbyA9IGZ1bmN0aW9uIGdldExvZ2luSW5mbygpIHsKCQlyZXR1cm4gewoJCQlmaWVsZHMgOiBbCgkJCQkJewoJCQkJCQluYW1lIDogInVzZXJuYW1lIiwKCQkJCQkJZGlzcGxheSA6ICJVc2VybmFtZSIsCgkJCQkJCWRlc2NyaXB0aW9uIDogIkVudGVyIHlvdXIgRmlyc3QgTmFtZSIsCgkJCQkJCXR5cGUgOiAidGV4dCIsCgkJCQkJCWxlbmd0aCA6IDQwLAoJCQkJCQloZWxwVVJMIDogImh0dHA6Ly9saXZlYXBpY3JlYXRvci5jYS5jb20iCgkJCQkJfSwKCQkJCQl7CgkJCQkJCW5hbWUgOiAicGFzc3dvcmQiLAoJCQkJCQlkaXNwbGF5IDogIlBhc3N3b3JkIiwKCQkJCQkJZGVzY3JpcHRpb24gOiAiRW50ZXIgeW91ciBMYXN0IE5hbWUgYXMgUGFzc3dvcmQiLAoJCQkJCQl0eXBlIDogInBhc3N3b3JkIiwKCQkJCQkJbGVuZ3RoIDogNDAsCgkJCQkJCWhlbHBVUkwgOiAiaHR0cDovL2xpdmVhcGljcmVhdG9yLmNhLmNvbS8iCgkJCQkJfSBdLAoJCQlsaW5rcyA6IFsKCgkJCV0KCQl9OwoJfTsKCglyZXN1bHQuZ2V0Q29uZmlnSW5mbyA9IGZ1bmN0aW9uIGdldENvbmZpZ0luZm8oKSB7CgkJcmV0dXJuIHsKCQkJY3VycmVudCA6IHsKCgkJCQkia2V5TGlmZXRpbWVNaW51dGVzIiA6IGNvbmZpZ1NldHVwLmtleUxpZmV0aW1lTWludXRlcywKCQkJCSJsb2dvbkFwaUtleSIgOiAJY29uZmlnU2V0dXAubG9nb25BcGlLZXksCgkJCQkibG9naW5CYXNlVVJMIiA6CWNvbmZpZ1NldHVwLmxvZ2luQmFzZVVSTCwKCQkJCSJsb2dpbkdyb3VwVVJMIiA6ICAJY29uZmlnU2V0dXAubG9naW5Hcm91cFVSTAoJCQl9LAoJCQlmaWVsZHMgOiBbIHsKCQkJCW5hbWUgOiAibG9nb25BcGlLZXkiLAoJCQkJZGlzcGxheSA6ICJsb2dvbkFwaUtleSIsCgkJCQl0eXBlIDogInRleHQiLAoJCQkJbGVuZ3RoIDogNjAsCgkJCQloZWxwVVJMIDogIiIKCQkJfSwgewoJCQkJbmFtZSA6ICJsb2dpbkJhc2VVUkwiLAoJCQkJZGlzcGxheSA6ICJsb2dpbkJhc2VVUkwiLAoJCQkJdHlwZSA6ICJ0ZXh0IiwKCQkJCWxlbmd0aCA6IDEyMCwKCQkJCWhlbHBVUkwgOiAiIgoJCQl9LCB7CgkJCQluYW1lIDogImxvZ2luR3JvdXBVUkwiLAoJCQkJZGlzcGxheSA6ICJsb2dpbkdyb3VwVVJMIiwKCQkJCXR5cGUgOiAidGV4dCIsCgkJCQlsZW5ndGggOiAxMjAsCgkJCQloZWxwVVJMIDogIiIKCQkJfSwgewoJCQkJbmFtZSA6ICJrZXlMaWZldGltZU1pbnV0ZXMiLAoJCQkJZGlzcGxheSA6ICJBUEkgS2V5IExpZmV0aW1lIChNaW51dGVzKSIsCgkJCQl0eXBlIDogIm51bWJlciIsCgkJCQlsZW5ndGggOiA4LAoJCQkJaGVscFVSTCA6ICJodHRwOi8vd3d3LmxpdmVhcGljcmVhdG9yLmNhLmNvbSIKCQkJfSBdLAoJCQlsaW5rcyA6IFtdCgkJfTsKCX07CgoJcmV0dXJuIHJlc3VsdDsKfQo="
    },
    "system_only": false,
    "logic_type": "javascript",
    "account_ident": null,
    "@metadata": {
      "href": "http://localhost:8080/APIServer/rest/abl/admin/v2/admin:logic_libraries/2041",
      "checksum": "override"
    }
  }
]